# インタラクション・フィードバック リファレンス

SHIG のインタラクション設計に関する原則をまとめたリファレンス。
各原則の詳細は公式サイトを参照すること。

> **出典**: 以下の原則名は、ソシオメディア株式会社
> 「[ヒューマンインターフェース ガイドライン](https://www.sociomedia.co.jp/category/shig)」
> （© Sociomedia, Inc.）より引用。

---

## 対象原則一覧

### ユーザーの主導権と直接操作

| # | 原則名（出典: SHIG） | URL |
|---|--------|-----|
| 7 | ユーザーの主導権 | https://www.sociomedia.co.jp/9058 |
| 8 | 直接操作 | https://www.sociomedia.co.jp/9075 |
| 9 | モードレス | https://www.sociomedia.co.jp/9094 |

### 先回りとエラー回避

| # | 原則名（出典: SHIG） | URL |
|---|--------|-----|
| 14 | プリコンピュテーション | https://www.sociomedia.co.jp/9123 |
| 15 | エラーを回避する | https://www.sociomedia.co.jp/9138 |

### タスク設計と効率化

| # | 原則名（出典: SHIG） | URL |
|---|--------|-----|
| 19 | タスクコヒーレンス | https://www.sociomedia.co.jp/9194 |
| 20 | メジャーなタスクに最適化する | https://www.sociomedia.co.jp/9200 |
| 21 | パースエージョン | https://www.sociomedia.co.jp/9209 |
| 22 | ショートカットを用意する | https://www.sociomedia.co.jp/9228 |

### 自動化と操作の意味

| # | 原則名（出典: SHIG） | URL |
|---|--------|-----|
| 29 | ユーザーがとれる操作がひとつしかないなら自動化する | https://www.sociomedia.co.jp/9299 |
| 36 | ゼロ・ワン・インフィニティ | https://www.sociomedia.co.jp/9365 |
| 37 | すべての操作可能な要素は意味を持つ | https://www.sociomedia.co.jp/9386 |

### 安全性と柔軟性

| # | 原則名（出典: SHIG） | URL |
|---|--------|-----|
| 54 | フールプルーフよりフェールセーフ | https://www.sociomedia.co.jp/9530 |
| 56 | 可能性と確率を区別する | https://www.sociomedia.co.jp/9540 |
| 57 | 黙って実行する | https://www.sociomedia.co.jp/9547 |
| 60 | エスケープハッチ | https://www.sociomedia.co.jp/9627 |
| 62 | 回答の先送り | https://www.sociomedia.co.jp/9656 |

### 設計哲学とユーザーの自律性

| # | 原則名（出典: SHIG） | URL |
|---|--------|-----|
| 83 | 単純なものは単純なままに | https://www.sociomedia.co.jp/9807 |
| 86 | カスタマイズ機能に頼らない | https://www.sociomedia.co.jp/9819 |
| 87 | ユーザーの道具にする | https://www.sociomedia.co.jp/9824 |
| 88 | ユーザーが自分なりの方法で作業を遂行できまたそれを改善できるようにする | https://www.sociomedia.co.jp/9830 |
| 89 | ユーザーを教育するのではなくユーザーが学習できるようにする | https://www.sociomedia.co.jp/9852 |
| 90 | UIをロックしない | https://www.sociomedia.co.jp/9855 |
| 91 | ゲームを持ち込まない | https://www.sociomedia.co.jp/9869 |
| 92 | 動かしたままに動くのではなく動かしたいように動く | https://www.sociomedia.co.jp/9876 |

---

## 実装への適用ノート

### モードレスなUI構造の実装方法

モードレス（#9）とは、ユーザーがいつでも自由にナビゲートし、操作を切り替えられる状態を指す。

**モーダルとモードレスの判断基準**:

| 状況 | 推奨 | 理由 |
|------|------|------|
| データ入力の途中 | モードレス（インライン編集） | ユーザーの作業を中断しない |
| 不可逆な操作の確認 | モーダル（確認ダイアログ） | 唯一の正当な用途 |
| 設定の変更 | モードレス（サイドパネル、インライン） | 他の画面を参照しながら変更したい |
| オブジェクトの詳細表示 | モードレス（スプリットビュー、ドロワー） | 一覧と詳細を同時に見たい |
| ウィザード/ステップ | モードレス（ステッパー内で前後に自由移動） | 手戻りを許容する |

**モードレス設計のチェックリスト**:

- ユーザーは現在の操作をいつでも中断できるか
- 戻るボタン / Escape キーで前の状態に戻れるか
- 他のナビゲーション項目にいつでもアクセスできるか
- 未保存の変更がある場合、破棄せず一時保存できるか

---

### 確認ダイアログを出すべき/出さないべき判断基準

確認ダイアログの多用は「黙って実行する」（#57）と「フェールセーフ」（#54）の原則に反する。

**確認ダイアログが必要な場合**:

| 条件 | 例 |
|------|-----|
| 操作が不可逆 | データの完全削除、アカウントの削除 |
| 影響範囲が大きい | 全ユーザーに通知を送信、公開状態の変更 |
| 操作のコストが高い | 課金を伴う操作、大量データの処理 |

**確認ダイアログが不要な場合**（代わりにUndo/フェールセーフを使う）:

| 条件 | 代替手段 |
|------|---------|
| 操作が取り消し可能 | Undo 機能（トースト通知 + 取り消しボタン） |
| 日常的な操作 | 即座に実行し、失敗時にエラー表示 |
| 低リスクな変更 | 自動保存 + 変更履歴 |

**フェールセーフ > フールプルーフ**:

操作を「禁止する」のではなく、操作後に「回復できる」ようにする。ゴミ箱の仕組み（削除→30日保持→完全削除）はフェールセーフの典型例。

---

### ゼロ・ワン・インフィニティの適用

ゼロ・ワン・インフィニティ（#36）：数量を「0個、1個、無制限」のいずれかで設計し、中途半端な上限を設けない。

**UIが壊れない設計のための適用**:

| 場面 | ❌ 避けるべき設計 | ✓ 正しい設計 |
|------|-----------------|-------------|
| リスト項目数 | 「最大5件まで」の恣意的制限 | 無制限（仮想スクロールで対応） |
| タグ付け | 「タグは3つまで」 | 無制限（UIはオーバーフロー対応） |
| ファイル添付 | 「添付は2つまで」 | 無制限（合計サイズ上限で制御） |
| テキスト入力 | 固定行数のテキストエリア | 自動拡張テキストエリア |

**オーバーフロー対策**:

無制限にする場合は、UIが壊れないよう以下を実装する：
- 長いリスト → 仮想スクロール、ページネーション
- 多すぎるタグ → 折り返し + 「+N件」表示
- 長いテキスト → テキスト省略（`...`）+ ツールチップ/展開
- 大量データ → フィルタ、検索、ソート機能

---

### エスケープハッチの実装パターン

エスケープハッチ（#60）：ユーザーがいつでも現在の操作から抜け出せる手段。

| パターン | 実装 | キーバインド |
|---------|------|------------|
| ダイアログを閉じる | 閉じるボタン + 背景クリック | `Escape` |
| 操作の取り消し | Undo 機能 | `Ctrl/Cmd + Z` |
| 検索/フィルタのリセット | 「クリア」ボタン | `Escape`（検索欄フォーカス時） |
| フォームの破棄 | 「キャンセル」ボタン | ブラウザバック |
| 全画面モードの終了 | 終了ボタン | `Escape` |
| ローディングの中断 | 「キャンセル」ボタン | `Escape` |

**回答の先送り**（#62）もエスケープハッチの一種。ユーザーが今すぐ答えられない質問は「後で設定」「スキップ」を許容する。

**実装の注意点**:

- Escape キーは最も基本的なエスケープハッチ。すべてのモーダル/オーバーレイに実装すること
- キャンセル/閉じるは常にアクセス可能な位置に配置する
- 長時間の処理には必ずキャンセル手段を提供する
- ウィザードでは「後で完了」「一時保存」を提供する

---

### ユーザーの主導権を守る実装

UIをロックしない（#90）、ユーザーの道具にする（#87）を守るための具体的な設計判断：

| ❌ ロックする設計 | ✓ 主導権を渡す設計 |
|-----------------|-------------------|
| 処理中に画面全体をロック | 処理中でもナビゲーション可能 |
| ステップを飛ばせないウィザード | 任意のステップに直接アクセス可能 |
| 強制ツアー/チュートリアル | スキップ可能、後で見返せる |
| 時間制限のある操作 | ユーザーが自分のペースで操作 |
| 自動再生するカルーセル | ユーザーが手動で操作 |
| ゲーミフィケーション（#91） | 道具としての機能に集中 |

---

## 関連リファレンス

- [design-principles.md](design-principles.md) — 基本設計原則・認知心理学
- [ooui.md](ooui.md) — オブジェクト指向UI
- [input-and-forms.md](input-and-forms.md) — フォーム設計
- [presentation.md](presentation.md) — フィードバック・アニメーション
