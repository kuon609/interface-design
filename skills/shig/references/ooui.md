# オブジェクト指向UI リファレンス

SHIG のオブジェクト指向UI（OOUI）に関する原則をまとめたリファレンス。
各原則の詳細は公式サイトを参照すること。

> **出典**: 以下の原則名は、ソシオメディア株式会社
> 「[ヒューマンインターフェース ガイドライン](https://www.sociomedia.co.jp/category/shig)」
> （© Sociomedia, Inc.）より引用。

---

## 対象原則一覧

| # | 原則名（出典: SHIG） | URL |
|---|--------|-----|
| 23 | オブジェクトベースにする | https://www.sociomedia.co.jp/9240 |
| 24 | ビューはオブジェクトを表象する | https://www.sociomedia.co.jp/9256 |
| 25 | オブジェクトは自身の状態を体現する | https://www.sociomedia.co.jp/9267 |
| 26 | 名詞→動詞 の操作順序 | https://www.sociomedia.co.jp/9275 |
| 35 | データをバインドする | https://www.sociomedia.co.jp/9340 |

---

## 実装への適用ノート

### OOUIの基本パターン：一覧→詳細→編集

OOUIの中心思想は「まずオブジェクト（名詞）を提示し、次にアクション（動詞）を選ばせる」こと。

**タスクベース（従来型）の流れ**:
```
「新規作成」を押す → フォームを埋める → 保存
「編集」メニューを選ぶ → 対象を選ぶ → 変更 → 保存
```

**オブジェクトベースの流れ**:
```
オブジェクト一覧を見る → オブジェクトを選ぶ → アクションを選ぶ
```

**実装パターン**:

```
┌─────────────────────────────┐
│  一覧（Collection View）     │
│  ┌───┐ ┌───┐ ┌───┐         │
│  │ A │ │ B │ │ C │  ← オブジェクト群 │
│  └───┘ └───┘ └───┘         │
│         ↓ 選択              │
│  ┌─────────────────┐        │
│  │ 詳細（Single View）│       │
│  │ オブジェクト B    │        │
│  │ [編集] [削除] [共有] ← アクション │
│  └─────────────────┘        │
│         ↓ 編集を選択         │
│  ┌─────────────────┐        │
│  │ 編集（Edit View）  │       │
│  │ インラインで変更   │        │
│  └─────────────────┘        │
└─────────────────────────────┘
```

---

### 「名詞→動詞」の操作順序をSPAで実装する

SPA（シングルページアプリケーション）で OOUI を実現するための設計方針：

**1. URLルーティングはオブジェクトを中心に設計する**

| パターン | URL例 | 説明 |
|---------|-------|------|
| 一覧 | `/projects` | オブジェクトのコレクション |
| 詳細 | `/projects/:id` | 単一オブジェクト |
| 編集 | `/projects/:id/edit` | オブジェクトに対するアクション |
| 関連 | `/projects/:id/tasks` | オブジェクトに紐づく子オブジェクト |

**2. アクションはオブジェクトのコンテキストに配置する**

- ツールバーやメニューバーではなく、オブジェクトの近く（インラインアクション、コンテキストメニュー）にアクションを配置する
- 一覧画面では各行にアクションを持たせる（ホバーで表示、または常時表示）
- 詳細画面ではオブジェクトのヘッダー付近にアクションを集約する

**3. 複数選択時はバッチアクションを提示する**

```
┌─────────────────────────────────┐
│ ☑ 3件選択中   [削除] [移動] [タグ付け] │
│─────────────────────────────────│
│ ☑ プロジェクト A                  │
│ ☑ プロジェクト B                  │
│ ☑ プロジェクト C                  │
│ ☐ プロジェクト D                  │
└─────────────────────────────────┘
```

選択数に応じて利用可能なアクションが変化する。0件選択時はバッチアクションバーを非表示にする。

---

### オブジェクトの状態を視覚的に表現する

オブジェクトは自身の状態を体現する（#25）。ユーザーがオブジェクトを見ただけで、その状態がわかるようにする。

**状態の視覚表現パターン**:

| 状態 | 視覚表現 | 実装例 |
|------|---------|-------|
| アクティブ/非アクティブ | 色の濃淡、不透明度 | アクティブ: `opacity: 1`、非アクティブ: `opacity: 0.5` |
| 進行中 | プログレスバー、バッジ | タスクカードにステータスバッジを表示 |
| エラー/警告 | アイコン、ボーダー色 | カードの左ボーダーを赤色に |
| 完了 | 打ち消し線、チェックマーク | テキストに `line-through`、チェックアイコン |
| ドラフト/未公開 | 点線ボーダー、ラベル | 「下書き」バッジ、点線の枠線 |

**アンチパターン**:

- 状態を別の画面に遷移しないと確認できない
- ステータスがテキストラベルのみで視覚的手がかりがない
- 状態変化後に画面が更新されず古い状態のまま表示される

---

### データバインドのリアルタイムフィードバック

データをバインドする（#35）ことで、ユーザーの操作結果をリアルタイムに反映する。

**実装パターン**:

| パターン | 説明 | 適用場面 |
|---------|------|---------|
| ライブプレビュー | 入力と同時にプレビューが更新 | テキストエディタ、テーマ設定、フォーマット指定 |
| 双方向バインド | UIの変更が即座にデータに反映 | フォーム、設定画面、インライン編集 |
| 楽観的更新 | 操作結果を先に表示し、バックグラウンドで保存 | いいね、ブックマーク、並べ替え |
| リアルタイム同期 | 他ユーザーの変更がリアルタイムに反映 | 共同編集、ダッシュボード |

**設計上の注意**:

- 保存状態を常に表示する（「保存済み」「保存中...」「未保存の変更あり」）
- 楽観的更新が失敗した場合のロールバックUIを用意する
- リアルタイム更新中でもユーザーの操作を妨げない

---

## 関連リファレンス

- [design-principles.md](design-principles.md) — 基本設計原則
- [interaction.md](interaction.md) — インタラクション設計
- [input-and-forms.md](input-and-forms.md) — フォーム設計
